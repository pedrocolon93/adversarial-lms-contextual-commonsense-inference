#echo "Starting noadversarial_bs_32_s_42_l_1M_normalgan_nomem_wiki"
#/u/pe25171/anaconda3/envs/kxlneta6000/bin/python lm_gan.py  --batch_size 48 --fp16 --epochs 2 --d_lr 5e-5 --g_lr 5e-5 --scheduler --do_train --do_test noadversarial_bs_32_s_42_l_1M_normalgan_nomem_wiki --accumulate_batches 1 --train_dis_every_n_iters 2 --discriminator_train_amount 1 --confounderdis --generator_train_amount 1 --train_gen_every_n_iters 1 --add_critic_noise --train_file train_united_seq2seq_wiki.json --test_file test_united_seq2seq_wiki.json --accelerator ddp --limit 1000000
#echo "Starting noadversarial_bs_32_s_42_l_1M_normalgan_nomem_wiki_mem"
#/u/pe25171/anaconda3/envs/kxlneta6000/bin/python lm_gan.py  --batch_size 48 --fp16 --epochs 2 --d_lr 5e-5 --g_lr 5e-5 --scheduler --do_train --do_test noadversarial_bs_32_s_42_l_1M_normalgan_nomem_wiki_mem --use_mem --accumulate_batches 1 --train_dis_every_n_iters 2 --discriminator_train_amount 1 --confounderdis --generator_train_amount 1 --train_gen_every_n_iters 1 --add_critic_noise --train_file train_united_seq2seq_wiki.json --test_file test_united_seq2seq_wiki.json --accelerator ddp --limit 1000000
#unset NCCL_IB_DISABLE
#unset NCCL_P2P_DISABLE
#unset NCCL_SOCKET_IFNAME
export CUDA_VISIBLE_DEVICES=1,2,3
#WANDB_API_KEY=2aa34769ea8ae63060a052e485040b683333dfed /u/pe25171/anaconda3/envs/kxlneta6000/bin/python lm_gan.py  --batch_size 32 --fp16  --d_lr 5e-5 --g_lr 5e-5 --scheduler --do_train --do_test noadversarial_bs_32_s_rs1_l_1M_normalgan_nomem --train_dis_every_n_iters 2 --discriminator_train_amount 1 --confounderdis --generator_train_amount 1 --train_gen_every_n_iters 1 --add_critic_noise --accelerator ddp --limit 1000000
#WANDB_API_KEY=2aa34769ea8ae63060a052e485040b683333dfed /u/pe25171/anaconda3/envs/kxlneta6000/bin/python lm_gan.py  --batch_size 32 --fp16  --d_lr 5e-5 --g_lr 5e-5 --scheduler --do_train --do_test noadversarial_bs_32_s_42_l_1M_normalgan_nomem_mem --use_mem --accumulate_batches 1 --train_dis_every_n_iters 2 --discriminator_train_amount 1 --confounderdis --generator_train_amount 1 --train_gen_every_n_iters 1 --add_critic_noise --accelerator ddp --limit 1000000
WANDB_API_KEY=2aa34769ea8ae63060a052e485040b683333dfed /u/pe25171/anaconda3/envs/kxlneta6000/bin/python lm_gan.py --batch_size 32 --fp16 --seed 12342 --d_lr 5e-5 --g_lr 5e-5 --scheduler --do_train --do_test --adversarial adversarial_bs_32_s_rs1_l_all_normalgan_noconfounder  --train_dis_every_n_iters 2 --discriminator_train_amount 1 --generator_train_amount 1 --train_gen_every_n_iters 1 --add_critic_noise --accelerator ddp --limit 100000
WANDB_API_KEY=2aa34769ea8ae63060a052e485040b683333dfed /u/pe25171/anaconda3/envs/kxlneta6000/bin/python lm_gan.py --batch_size 32 --fp16 --seed 12342 --d_lr 5e-5 --g_lr 5e-5 --scheduler --do_train --do_test --adversarial adversarial_bs_32_s_rs1_l_all_normalgan  --train_dis_every_n_iters 2 --discriminator_train_amount 1 --confounderdis --generator_train_amount 1 --train_gen_every_n_iters 1 --add_critic_noise --accelerator ddp --limit 100000
WANDB_API_KEY=2aa34769ea8ae63060a052e485040b683333dfed /u/pe25171/anaconda3/envs/kxlneta6000/bin/python lm_gan.py --batch_size 32 --fp16 --seed 435142 --d_lr 5e-5 --g_lr 5e-5 --scheduler --do_train --do_test --adversarial adversarial_bs_32_s_rs1_l_all_normalgan_noconfounder  --train_dis_every_n_iters 2 --discriminator_train_amount 1 --generator_train_amount 1 --train_gen_every_n_iters 1 --add_critic_noise --accelerator ddp --limit 100000
WANDB_API_KEY=2aa34769ea8ae63060a052e485040b683333dfed /u/pe25171/anaconda3/envs/kxlneta6000/bin/python lm_gan.py --batch_size 32 --fp16 --seed 435142 --d_lr 5e-5 --g_lr 5e-5 --scheduler --do_train --do_test --adversarial adversarial_bs_32_s_rs1_l_all_normalgan  --train_dis_every_n_iters 2 --discriminator_train_amount 1 --confounderdis --generator_train_amount 1 --train_gen_every_n_iters 1 --add_critic_noise --accelerator ddp --limit 100000
#WANDB_API_KEY=2aa34769ea8ae63060a052e485040b683333dfed /u/pe25171/anaconda3/envs/kxlneta6000/bin/python lm_gan.py  --batch_size 32 --fp16 --seed 12342 --d_lr 5e-5 --g_lr 5e-5 --scheduler --do_train --do_test noadversarial_bs_32_s_rs1_l_100k_normalgan_nomem --train_dis_every_n_iters 2 --discriminator_train_amount 1 --confounderdis --generator_train_amount 1 --train_gen_every_n_iters 1 --add_critic_noise --accelerator ddp --limit 100000
#WANDB_API_KEY=2aa34769ea8ae63060a052e485040b683333dfed /u/pe25171/anaconda3/envs/kxlneta6000/bin/python lm_gan.py  --batch_size 32 --fp16 --seed 435142 --d_lr 5e-5 --g_lr 5e-5 --scheduler --do_train --do_test noadversarial_bs_32_s_rs1_l_100k_normalgan_nomem --train_dis_every_n_iters 2 --discriminator_train_amount 1 --confounderdis --generator_train_amount 1 --train_gen_every_n_iters 1 --add_critic_noise --accelerator ddp --limit 100000

#WANDB_API_KEY=2aa34769ea8ae63060a052e485040b683333dfed /u/pe25171/anaconda3/envs/kxlneta6000/bin/python lm_gan.py  --batch_size 32 --fp16  --d_lr 5e-5 --g_lr 5e-5 --scheduler --do_train --do_test --adversarial adversarial_bs_32_s_42_l_1M_normalgan_mem --use_mem --accumulate_batches 1 --train_dis_every_n_iters 2 --discriminator_train_amount 1 --confounderdis --generator_train_amount 1 --train_gen_every_n_iters 1 --add_critic_noise --accelerator ddp --limit 1000000
#/u/pe25171/anaconda3/envs/kxlneta6000/bin/python lm_gan.py  --batch_size 48 --fp16 --epochs 2 --d_lr 5e-5 --g_lr 5e-5 --scheduler --do_train --do_test --adversarial adversarial_bs_32_s_42_l_1M_normalgan_wiki --accumulate_batches 1 --train_dis_every_n_iters 2 --discriminator_train_amount 1 --confounderdis --generator_train_amount 1 --train_gen_every_n_iters 1 --add_critic_noise --train_file train_united_seq2seq_wiki.json --test_file test_united_seq2seq_wiki.json --limit 1000000
#/u/pe25171/anaconda3/envs/kxlneta6000/bin/python lm_gan.py  --batch_size 48 --fp16 --epochs 2 --d_lr 5e-5 --g_lr 5e-5 --scheduler --do_train --do_test --adversarial adversarial_bs_32_s_42_l_1M_normalgan_wiki_mem --use_mem --accumulate_batches 1 --train_dis_every_n_iters 2 --discriminator_train_amount 1 --confounderdis --generator_train_amount 1 --train_gen_every_n_iters 1 --add_critic_noise --train_file train_united_seq2seq_wiki.json --test_file test_united_seq2seq_wiki.json --limit 1000000
